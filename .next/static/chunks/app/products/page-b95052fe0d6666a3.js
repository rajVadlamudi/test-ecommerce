(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{8586:function(e,t,n){Promise.resolve().then(n.bind(n,6329))},6329:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var i=n(7437),o=n(5601),r=n.n(o),a=n(7138),s=n(2265);function l(e){let{products:t,initialCartProducts:n=[]}=e,[o,l]=(0,s.useState)(n);async function d(e){let t=await fetch("http://localhost:3000/api/users/2/cart",{method:"POST",body:JSON.stringify({productId:e}),headers:{"Content-Type":"application/json"}});l(await t.json())}async function c(e){let t=await fetch("http://localhost:3000/api/users/2/cart",{method:"DELETE",body:JSON.stringify({productId:e}),headers:{"Content-Type":"application/json"}});l(await t.json())}return(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:t.map(e=>{var t;return(0,i.jsxs)(a.default,{href:"/products/".concat(e.id),className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition duration-300",children:[(0,i.jsxs)("div",{className:"flex justify-center mb-4 h-48 relative",children:[" ",(0,i.jsx)(r(),{src:"/"+e.imageUrl,alt:"Product image",fill:!0,className:"object-cover rounded-md"})]}),(0,i.jsx)("h2",{className:"text-xl font-semibold mb-2",children:e.name}),(0,i.jsxs)("p",{className:"text-gray-600",children:["$",e.price]}),(t=e.id,o.some(e=>e.id===t))?(0,i.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",onClick:t=>{t.preventDefault(),c(e.id)},children:"Remove from Cart"}):(0,i.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",onClick:t=>{t.preventDefault(),d(e.id)},children:"Add to Cart"})]},e.id)})})}},7138:function(e,t,n){"use strict";n.d(t,{default:function(){return o.a}});var i=n(231),o=n.n(i)},5601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return l},getImageProps:function(){return s}});let i=n(9920),o=n(497),r=n(8173),a=i._(n(1241));function s(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let l=r.Image}},function(e){e.O(0,[231,173,971,23,744],function(){return e(e.s=8586)}),_N_E=e.O()}]);